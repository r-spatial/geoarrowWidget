[{"path":"https://r-spatial.github.io/geoarrowWidget/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 geoarrowWidget authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/articles/use_existing_widget.html","id":"using-listviewer-to-examine-a-geoarrow-file","dir":"Articles","previous_headings":"","what":"Using {listviewer} to examine a (geo)arrow file","title":"Use geoarrowWidget with an existing widget","text":"example, use listviewer::jsonedit() examine (geo)arrow file. First, create spatial data scratch: , convert save data (geo)arrow file: Note, need explicitly infer geoarrow schema, geometry properly handled, especially geometry encoding crs. Next, create empty listviewer widget attach relevant JavaScript libraries geoarrow file. explicitly name widget via elementId can find widget document subsequently modify . Finally, specify JavaScript code handles population created JsonEditor browser geoarrow data render widget. now nearly looks like data defined JavaScript, quite‚Ä¶ open browser console inspect compare console log arrow_table, ‚Äôll see e.g.¬†carries CRS metatdata lost geoarrow table JSONEditor. parse separately geoarrow metadata. (somewhat convoluted) structure, actual data values can found e.g.¬†radius column: [] > 0 > geoarrow table > batches > 0 > data > children > 2 > values geometry column (child 3) 2 children , access longitude coordinates : [] > 0 > geoarrow table > batches > 0 > data > children > 3 > children > 0 > values Note, hex representation fillColor column (child 1) internally converted numerical representation, 700 values instead just 100.","code":"library(geoarrowWidget) library(nanoarrow) library(geoarrow) library(listviewer) library(wk) library(htmlwidgets)  ### generate some random wk points data ======================================== n = 1e2 dat = data.frame(   id = 1:n   , fillColor = hcl.colors(n)   , radius = sample.int(15, n, replace = TRUE)   , geom = xy(     x = runif(n, -160, 160)     , y = runif(n, -40, 40)     , crs = wk_crs_projjson(\"EPSG:4326\")   ) ) fl = tempfile() dir.create(fl) path = file.path(   fl   , \"test.arrow\" )  interleaved = TRUE  data_stream = as_nanoarrow_array_stream(   dat   , geometry_schema = infer_geoarrow_schema(     dat     , coord_type = ifelse(interleaved, \"INTERLEAVED\", \"SEPARATE\")   )   , schema = infer_nanoarrow_schema(dat) )  data_stream$get_schema() <nanoarrow_schema struct>  $ format    : chr \"+s\"  $ name      : chr \"\"  $ metadata  : list()  $ flags     : int 0  $ children  :List of 4   ..$ id       :<nanoarrow_schema int32>   .. ..$ format    : chr \"i\"   .. ..$ name      : chr \"id\"   .. ..$ metadata  : list()   .. ..$ flags     : int 2   .. ..$ children  : list()   .. ..$ dictionary: NULL   ..$ fillColor:<nanoarrow_schema string>   .. ..$ format    : chr \"u\"   .. ..$ name      : chr \"fillColor\"   .. ..$ metadata  : list()   .. ..$ flags     : int 2   .. ..$ children  : list()   .. ..$ dictionary: NULL   ..$ radius   :<nanoarrow_schema int32>   .. ..$ format    : chr \"i\"   .. ..$ name      : chr \"radius\"   .. ..$ metadata  : list()   .. ..$ flags     : int 2   .. ..$ children  : list()   .. ..$ dictionary: NULL   ..$ geom     :<nanoarrow_schema geoarrow.point{struct}>   .. ..$ format    : chr \"+s\"   .. ..$ name      : chr \"geom\"   .. ..$ metadata  :List of 2   .. .. ..$ ARROW:extension:name    : chr \"geoarrow.point\"   .. .. ..$ ARROW:extension:metadata: chr \"{\\\"crs\\\":{\\\"$schema\\\":\\\"https://proj.org/schemas/v0.7/projjson.schema.json\\\",\\\"type\\\":\\\"GeographicCRS\\\",\\\"name\\\"| __truncated__   .. ..$ flags     : int 2   .. ..$ children  :List of 2   .. .. ..$ x:<nanoarrow_schema double>   .. .. .. ..$ format    : chr \"g\"   .. .. .. ..$ name      : chr \"x\"   .. .. .. ..$ metadata  : list()   .. .. .. ..$ flags     : int 0   .. .. .. ..$ children  : list()   .. .. .. ..$ dictionary: NULL   .. .. ..$ y:<nanoarrow_schema double>   .. .. .. ..$ format    : chr \"g\"   .. .. .. ..$ name      : chr \"y\"   .. .. .. ..$ metadata  : list()   .. .. .. ..$ flags     : int 0   .. .. .. ..$ children  : list()   .. .. .. ..$ dictionary: NULL   .. ..$ dictionary: NULL  $ dictionary: NULL write_nanoarrow(data_stream, path) wgt = jsonedit(listdata = list(\"\"), elementId = \"lv-example\") wgt = attachGeoarrowDependencies(widget = wgt) wgt = attachData(widget = wgt, file = path, name = \"mydata\") js_code = htmlwidgets::JS(   'function (el, x, data) {          // find data attachment in document                  let attachment = document.getElementById(data.name + \"-geoarrowWidget-attachment\");                  // find listviewer jsonedit element in document and delete current contents                  let jse = document.getElementById(\"lv-example\");         jse.innerHTML = null;          // load data from attachment into jsonedit element identified and emptied earlier         // metadata parsing from here:         // https://www.geeksforgeeks.org/javascript/how-to-convert-map-to-json-in-javascript/                  fetch(attachment.href)           .then(result => Arrow.tableFromIPC(result))           .then(arrow_table => {                        let newed = new JSONEditor.JSONEditor({               target: jse,                props: {                 content: {                   json: [{                     \"geoarrow table\": JSON.parse(JSON.stringify(arrow_table)),                     \"geoarrow metadata\": JSON.parse(JSON.stringify(Object.fromEntries(arrow_table.schema.fields[3].metadata)))                   }]                 }               }             });             //debugger;             console.log(arrow_table);            });   }' )  onRender(wgt, js_code, data = list(name = \"mydata\"))"},{"path":"https://r-spatial.github.io/geoarrowWidget/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tim Appelhans. Maintainer, author.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Appelhans T (2026). geoarrowWidget: Attach Geoarrow Data Widget. R package version 0.0.1, https://github.com/r-spatial/geoarrowWidget.","code":"@Manual{,   title = {geoarrowWidget: Attach Geoarrow Data to a Widget},   author = {Tim Appelhans},   year = {2026},   note = {R package version 0.0.1},   url = {https://github.com/r-spatial/geoarrowWidget}, }"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"geoarrowwidget","dir":"","previous_headings":"","what":"geoarrowWidget","title":"Attach Geoarrow Data to a Widget","text":"aim geoarrowWidget facilitate fast transfer geospatial data R memory browser using geoarrow memory layout. provides functionality attach geoarrow data existing htmlwidgets along relevant JavaScript libraries handle data browser context. anything useful beyond data transfer. user/devloper make use data, e.g.¬†render somehow, using JavaScript.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Attach Geoarrow Data to a Widget","text":"CRAN yet, install github:","code":"remotes::install_github(\"r-spatial/geoarrowWidget\")"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"usage-example","dir":"","previous_headings":"","what":"Usage example","title":"Attach Geoarrow Data to a Widget","text":"testing purposes, geoarrowWidget provides minimal htmlwidget called geoarrowDummyWidget. ‚Äôs example use : create web page data attached geoarrow object. browser console (press F12) look something like (depending browser obviously, Librewolf case). see two entries: Object - geoarrow data PerformanceResourceTiming - details performance loading data including encodedBodySize data Bytes duration milliseconds. Another way see long takes load data open Network tab developer tools refresh page. Note: 200MB encodedBodySize 375ms duration screenshot result running code 1e7 points.  page source (press <CTRL + u>) look something like , line 11 see attached test.arrow file necessary scripts (arrow geoarrow JS bindings) process data JavaScript.   general usage pattern highlighted lines geoarrowDummyWidget","code":"library(geoarrowWidget) library(wk) library(nanoarrow) library(geoarrow)  ### generate some random sf points data ======================================== n = 1e5 dat = data.frame(   id = 1:n   , geometry = xy(     x = runif(n, -160, 160)     , y = runif(n, -40, 40)     , crs = 4326   ) )  ### setup and write to tempfile as geoarrow ==================================== fl = tempfile() dir.create(fl) path = file.path(   fl   , \"test.arrow\" )  interleaved = FALSE  data_stream = nanoarrow::as_nanoarrow_array_stream(   dat   , geometry_schema = geoarrow::infer_geoarrow_schema(     dat     , coord_type = ifelse(interleaved, \"INTERLEAVED\", \"SEPARATE\")   ) )  nanoarrow::write_nanoarrow(data_stream, path)  ### create widget and check browser console ==================================== wgt = geoarrowDummyWidget(file = path)  options(viewer = NULL)  wgt"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"acknowledgment","dir":"","previous_headings":"Usage example","what":"Acknowledgment","title":"Attach Geoarrow Data to a Widget","text":"project realized financial support ","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":null,"dir":"Reference","previous_headings":"","what":"Attach data to a widget. ‚Äî attachData","title":"Attach data to a widget. ‚Äî attachData","text":"Pipe-friendly function attach data (, really, geoarrow) widget created createWidget.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attach data to a widget. ‚Äî attachData","text":"","code":"attachData(widget, data, file, url, ...)"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attach data to a widget. ‚Äî attachData","text":"widget widget created createWidget. data nanoarrow_array_stream created as_nanoarrow_array_stream. supplied, file url ignored. file local file path data file attached widget. Ignored data supplied. url URL file attached widget. Ignored data file supplied. ... arguments supplied internal methods. relevant argument name can used set id attachment. See details examples explanation.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attach data to a widget. ‚Äî attachData","text":"widget data attached.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Attach data to a widget. ‚Äî attachData","text":"provided data attached page created widget <link>. can used script fetch data href. See e.g. \"Use geoarrowWidget existing widget\" vignette package example work data using onRender source geoarrowDummyWidget.js another, similar example. NOTE <link> id can controlled supplying name argument (via ...). prepended <name>-geoarrowWidget-attachment. See example , name \"mydata\" used create id \"mydata-geoarrowWidget-attachment\". case name supplied, defaults file name (without extension) supplied via file url.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Attach data to a widget. ‚Äî attachData","text":"","code":"library(listviewer)  wgt = jsonedit(   list(\"Just some dummy text\")   , elementId = \"lv-example\" ) attachData(   wgt   , url = \"https://geoarrow-test.s3.eu-central-1.amazonaws.com/test_layer_interleaved.arrow\"  , name = \"mydata\" )  {\"x\":{\"data\":[\"Just some dummy text\"],\"options\":{\"mode\":\"tree\",\"modes\":[\"text\",\"tree\",\"table\"]}},\"evals\":[],\"jsHooks\":[]} ## open the resulting page in the browser and inspect the page source, e.g. ## by pressing <Ctrl + u>. You should see a line like (href is shortened here):  # <link id=\"mydata-geoarrowWidget-attachment\" rel=\"attachment\" href=\"https://geoarrow-test.s3....\"/>"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"Pipe-friendly functions attach Arrow Geoarrow JavaScript dependencies widget created createWidget.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"","code":"attachGeoarrowDependencies(widget)  attachGeoarrowDependency(widget)  attachArrowDependency(widget)  attachParquetWasmDependencies(widget)"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"widget widget created createWidget.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"widget including Arrow, Geoarrow /parquet-wasm JavaScript dependencies.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"Attaching parquet-wasm JavaScript dependency differs attaching dependencies. order enable reading .parquet files browser declare async function parquet2arrow window level can used read parquet data Arrow memory table browser. , attachParquetWasmDependencies() also attach arrow geoarrow dependencies. , browser, can use follows:","code":"fetch(<(geo)parquet-url>)     .then(pq => window.parquet2arrow(pq))     .then(arrow_table => {       // code to work with arrow table      });"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/attachGeoarrowDependencies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Attach Arrow and Geoarrow JavaScript dependencies to a widget. ‚Äî attachGeoarrowDependencies","text":"","code":"library(listviewer)  wgt = jsonedit(   list(\"Just some dummy text\")   , elementId = \"lv-example\" ) attachGeoarrowDependencies(wgt)  {\"x\":{\"data\":[\"Just some dummy text\"],\"options\":{\"mode\":\"tree\",\"modes\":[\"text\",\"tree\",\"table\"]}},\"evals\":[],\"jsHooks\":[]} ## open the resulting page in the browser and inspect the page source, e.g. ## by pressing <Ctrl + u>. You should see two lines like:  # <script src=\"lib/apache-arrow-js-19.0.1/Arrow.es2015.min.js\"><\/script> # <script src=\"lib/geoarrow-js-0.3.2/geoarrow.umd.min.js\"><\/script>  ## !Version numbers of the JavaScript dependencies may differ!"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/extJSLibs.html","id":null,"dir":"Reference","previous_headings":"","what":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","title":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","text":"Names versions external JavaScript libraries used geoarrowWidget.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/extJSLibs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","text":"","code":"extJSLibs()"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/extJSLibs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","text":"named character vector versions GeoArrow Arrow JavaScript libraries shipped package.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/extJSLibs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","text":"See e.g. https://cdn.jsdelivr.net/npm/apache-arrow/package.json https://cdn.jsdelivr.net/npm/@geoarrow/geoarrow-js/package.json details js depencencies.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/extJSLibs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Names and versions of external JavaScript libraries. ‚Äî extJSLibs","text":"","code":"extJSLibs() #>     geoarrow-js apache-arrow-js  #>         \"0.3.3\"        \"21.1.0\""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","title":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","text":"Widget used highlight efficiency geoarrow data transfer. anything useful, attaching data generated htmlwidget printing browser console.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","text":"","code":"geoarrowDummyWidget(   message,   file,   url,   dataname = \"mygeoarrowdata\",   width = NULL,   height = NULL,   elementId = NULL )"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","text":"message text displayed generated web page. file local file path geoarrow file attached widget. url URL geoarrow file attached widget. Ignored file supplied. dataname 'ATTACHINDEX' used data attachment. See htmlDependency details, especially Details section attachment. width Fixed width widget (css units). See createWidget details. height Fixed height widget (css units). See createWidget details. elementId Use explicit element ID widget. See createWidget details.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","text":"htmlwidget parsed geoarrow data printed browser console.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic Widget to Showcase Things. ‚Äî geoarrowDummyWidget","text":"","code":"url = \"https://geoarrow-test.s3.eu-central-1.amazonaws.com/test_layer_interleaved.arrow\" wgt = geoarrowDummyWidget(url = url) options(viewer = NULL) wgt  {\"x\":{\"message\":\"\\n    Congratulations! You've rendered geoarrowDummyWidget in the browser!\\n    To see the geoarrow data, open the web developer tools (e.g. by pressing F12) and navigate to 'Console'.\\n    There you should see your data, which should look something like this:\\n\\n    > Object { schema: {...}, batches: (1) [...], j: Uint32Array(2) }\\n  \",\"dataname\":\"mygeoarrowdata\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowWidget-package.html","id":null,"dir":"Reference","previous_headings":"","what":"geoarrowWidget: Attach Geoarrow Data to a Widget ‚Äî geoarrowWidget-package","title":"geoarrowWidget: Attach Geoarrow Data to a Widget ‚Äî geoarrowWidget-package","text":"Provides functions necessary JavaScript bindings quickly transfer geospatial data R memory browser.","code":""},{"path":[]},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowWidget-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"geoarrowWidget: Attach Geoarrow Data to a Widget ‚Äî geoarrowWidget-package","text":"Maintainer: Tim Appelhans tim.appelhans@gmail.com (ORCID)","code":""},{"path":[]},{"path":"https://r-spatial.github.io/geoarrowWidget/news/index.html","id":"id_-features-and-improvements-0-0-1","dir":"Changelog","previous_headings":"","what":"‚ú® features and improvements","title":"geoarrowWidget 0.0.1 (2026-02-09)","text":"initial release","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/news/index.html","id":"id_-miscellaneous-0-0-1","dir":"Changelog","previous_headings":"","what":"üç¨ miscellaneous","title":"geoarrowWidget 0.0.1 (2026-02-09)","text":"Add NEWS.md file track changes package.","code":""}]
