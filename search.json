[{"path":"https://r-spatial.github.io/geoarrowWidget/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 geoarrowWidget authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/articles/use_existing_widget.html","id":"using-geoarrowwidget-to-attach-data-to-an-existing-widget","dir":"Articles","previous_headings":"","what":"Using geoarrowWidget to attach data to an existing widget","title":"use_existing_widget","text":"general usage pattern geoarrowWidget enable attaching data existing widget using JavaScript update/extend functionality existing widget.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/articles/use_existing_widget.html","id":"using-listviewer-to-examine-a-geoarrow-file","dir":"Articles","previous_headings":"","what":"Using {listviewer} to examine a geoarrow file","title":"use_existing_widget","text":"example, use listviewer::jsonedit() examine geoarrow file. First, create spatial data scratch: , convert save data geoarrow file: Next, create empty listviewer widget attach relevant JavaScript libraries geoarrow file: Finally, specify JavaScript code handles population created JsonEditor browser geoarrow data render widget.","code":"library(geoarrowWidget) library(sf) library(colourvalues) library(nanoarrow) library(geoarrow) library(listviewer)  ### generate some random sf points data ======================================== n = 1e3 dat = data.frame(   id = 1:n   , x = runif(n, -160, 160)   , y = runif(n, -40, 40) ) dat = st_as_sf(   dat   , coords = c(\"x\", \"y\")   , crs = 4326 ) dat$fillColor = color_values(   rnorm(nrow(dat))   , alpha = sample.int(255, nrow(dat), replace = TRUE) ) dat$lineColor = color_values(   rnorm(nrow(dat))   , alpha = sample.int(255, nrow(dat), replace = TRUE)   , palette = \"inferno\" ) dat$radius = sample.int(15, nrow(dat), replace = TRUE) dat$lineWidth = sample.int(5, nrow(dat), replace = TRUE) fl = tempfile() dir.create(fl) path = file.path(   fl   , \"test.arrow\" )  interleaved = TRUE  data_stream = nanoarrow::as_nanoarrow_array_stream(   dat   , geometry_schema = geoarrow::infer_geoarrow_schema(     dat     , coord_type = ifelse(interleaved, \"INTERLEAVED\", \"SEPARATE\")   ) )  nanoarrow::write_nanoarrow(data_stream, path) js = jsonlite::toJSON(\"\") wgt = listviewer::jsonedit(js, elementId = \"lv-example\")  wgt$dependencies = c(   wgt$dependencies   , geoarrowWidget:::arrowJSDependencies()   , geoarrowWidget:::geoarrowJSDependencies()   , geoarrowWidget:::.dataAttachment(     file = path     # url = \"https://geoarrow-test.s3.eu-central-1.amazonaws.com/test_layer_interleaved.arrow\"     , name = \"mydata\"   ) ) js_code = htmlwidgets::JS(   'function (el, x, data) {          // helper function to extract data from arrow table as arrays         // adapted from https://stackoverflow.com/a/78524270                  function extractDataFromTable(table) {           const result = {};                      // table.schema.fields is an Array of Field objects           // which hold information about the column including its name                      for(let field of table.schema.fields) {             // use the field name to extract the column as a Vector from the table                        const vector = table.getChild(field.name);                          if(!vector) {               continue;             }                          //convert the Vector to an Array.             //this gives you all the values in the column as an array                          if (vector.numChildren > 0) {               result[field.name] = [vector.toArray()];             } else {               result[field.name] = [vector.toJSON()];             }                        }                      return result;         }          // find data attachment in document                  let data_fl = document.getElementById(data.id + \"-geoarrowWidget-attachment\");                  // find listviewer jsonedit element in document and delete current contents                  let jse = document.getElementById(\"lv-example\");         jse.innerHTML = null;          // load data from attachment into jsonedit element identified and emptied earlier                  fetch(data_fl.href)           .then(result => Arrow.tableFromIPC(result))           .then(arrow_table => {              let newed = new JSONEditor.JSONEditor({               target: jse,                props: {                 content: {                    //json: JSON.parse(arrow_table.toString())                   json: [                     Object(extractDataFromTable(arrow_table))                   ]                 }               }             });                          //debugger;             //console.log(arrow_table);            });   }' )  htmlwidgets::onRender(wgt, js_code, data = list(id = \"mydata\"))"},{"path":"https://r-spatial.github.io/geoarrowWidget/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tim Appelhans. Maintainer, author.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Appelhans T (2026). geoarrowWidget: Functions Attach Geoarrow Data Widget. R package version 0.0.0.9006, https://github.com/r-spatial/geoarrowWidget.","code":"@Manual{,   title = {geoarrowWidget: Functions to Attach Geoarrow Data to a Widget},   author = {Tim Appelhans},   year = {2026},   note = {R package version 0.0.0.9006},   url = {https://github.com/r-spatial/geoarrowWidget}, }"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"geoarrowwidget","dir":"","previous_headings":"","what":"geoarrowWidget","title":"Functions to Attach Geoarrow Data to a Widget","text":"aim geoarrowWidget facilitate fast transfer geospatial data R memory browser using geoarrow memory layout. provides functionality attach geoarrow data existing htmlwidgets along relevant JavaScript libraries handle data browser context. anything useful beyond data transfer. user/devloper make use data, e.g. render somehow, using JavaScript.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Functions to Attach Geoarrow Data to a Widget","text":"CRAN yet, install github:","code":"remotes::install_github(\"r-spatial/geoarrowWidget\")"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"usage-example","dir":"","previous_headings":"","what":"Usage example","title":"Functions to Attach Geoarrow Data to a Widget","text":"testing purposes, geoarrowWidget provides minimal htmlwidget called geoarrowDummyWidget. ’s example use : create web page data attached geoarrow object. browser console (press F12) look something like (depending browser obviously, Librewolf case)  page source (press <CTRL + u>) look something like , line 11 see attached test.arrow file necessary scripts (arrow geoarrow JS bindings) process data JavaScript.   general usage pattern highlighted lines geoarrowDummyWidget","code":"library(geoarrowWidget) library(wk) library(nanoarrow) library(geoarrow)  ### generate some random sf points data ======================================== n = 1e5 dat = data.frame(   id = 1:n   , geometry = xy(     x = runif(n, -160, 160)     , y = runif(n, -40, 40)     , crs = 4326   ) )  ### setup and write to tempfile as geoarrow ==================================== fl = tempfile() dir.create(fl) path = file.path(   fl   , \"test.arrow\" )  interleaved = FALSE  data_stream = nanoarrow::as_nanoarrow_array_stream(   dat   , geometry_schema = geoarrow::infer_geoarrow_schema(     dat     , coord_type = ifelse(interleaved, \"INTERLEAVED\", \"SEPARATE\")   ) )  nanoarrow::write_nanoarrow(data_stream, path)  ### create widget and check browser console ==================================== wgt = geoarrowDummyWidget(file = path)  options(viewer = NULL)  wgt"},{"path":"https://r-spatial.github.io/geoarrowWidget/index.html","id":"acknowledgment","dir":"","previous_headings":"Usage example","what":"Acknowledgment","title":"Functions to Attach Geoarrow Data to a Widget","text":"project realized financial support ","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic Widget to Showcase Things. — geoarrowDummyWidget","title":"Basic Widget to Showcase Things. — geoarrowDummyWidget","text":"Widget used highlight efficiency geoarrow data transfer. anything useful, attaching data generated htmlwidget printing browser console.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic Widget to Showcase Things. — geoarrowDummyWidget","text":"","code":"geoarrowDummyWidget(   message,   file,   url,   dataname = \"mygeoarrowdata\",   width = NULL,   height = NULL,   elementId = NULL )"},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic Widget to Showcase Things. — geoarrowDummyWidget","text":"message text displayed generated web page. file local file path geoarrow file attached widget. url URL geoarrow file attached widget. Ignored file supplied. dataname 'ATTACHINDEX' used data attachment. See htmlDependency details, especially Details section attachment. width Fixed width widget (css units). See createWidget details. height Fixed height widget (css units). See createWidget details. elementId Use explicit element ID widget. See createWidget details.","code":""},{"path":"https://r-spatial.github.io/geoarrowWidget/reference/geoarrowDummyWidget.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic Widget to Showcase Things. — geoarrowDummyWidget","text":"","code":"url = \"https://geoarrow-test.s3.eu-central-1.amazonaws.com/test_layer_interleaved.arrow\" wgt = geoarrowDummyWidget(url = url) options(viewer = NULL) wgt  {\"x\":{\"message\":\"\\n    Congratulations! You've rendered geoarrowDummyWidget in the browser!\\n    To see the geoarrow data, open the web developer tools (e.g. by pressing F12) and navigate to 'Console'.\\n    There you should see your data, which should look something like this:\\n\\n    > Object { schema: {...}, batches: (1) [...], j: Uint32Array(2) }\\n  \",\"dataname\":\"mygeoarrowdata\"},\"evals\":[],\"jsHooks\":[]}"}]
